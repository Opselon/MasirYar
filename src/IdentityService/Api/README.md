# لایه API

این لایه نقطه ورود اصلی برای میکروسرویس `IdentityService` است و مسئولیت مدیریت درخواست‌های ورودی، اعتبارسنجی آن‌ها و ارسال پاسخ‌های مناسب را بر عهده دارد.

## مسئولیت‌ها

-   **ارائه Endpoints:** این لایه شامل کنترلرهای RESTful API و سرویس‌های gRPC است که عملیات مختلفی مانند ثبت‌نام، ورود و مدیریت کاربران را در دسترس کلاینت‌ها قرار می‌دهند.
-   **احراز هویت و مجوزدهی:** این لایه مسئولیت اجرای سیاست‌های احراز هویت (Authentication) و مجوزدهی (Authorization) را بر عهده دارد تا اطمینان حاصل شود که فقط کاربران مجاز به منابع دسترسی دارند.
-   **اعتبارسنجی ورودی:** داده‌های ورودی از کلاینت‌ها در این لایه اعتبارسنجی می‌شوند تا از صحت و کامل بودن آن‌ها اطمینان حاصل شود.
-   **Serialization و Deserialization:** این لایه مسئولیت تبدیل داده‌ها از فرمت JSON (برای REST) یا Protocol Buffers (برای gRPC) به اشیاء C# و برعکس را بر عهده دارد.

## ساختار

-   `Controllers`: شامل کنترلرهای RESTful API است که هر کدام به یک منبع خاص (مان_ `Users`) اختصاص داده شده‌اند.
-   `Services`: شامل پیاده‌سازی سرویس‌های gRPC است.
-   `DTOs`: شامل اشیاء انتقال داده (Data Transfer Objects) است که برای تبادل داده بین کلاینت و سرور استفاده می‌شوند.
-   `Extensions`: شامل متدهای کمکی برای پیکربندی سرویس‌ها در `Program.cs` است.
-   `Filters`: شامل فیلترهای سفارشی برای خطایابی و دیگر عملیات Cross-Cutting Concerns است.
-   `Program.cs`: نقطه شروع برنامه است و شامل پیکربندی‌های اصلی سرویس، مانند Dependency Injection، Authentication و Middleware Pipeline است.
